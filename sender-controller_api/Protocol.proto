option java_package = "Protocol";
option java_outer_classname = "SenderController";

message CertifyRequest {
    required string key1 = 1;
    required string key2 = 2;
}

message CertifyResponse {
    required bool result = 1;
}

message NewTaskRequest {
    required int64 TaskId = 1;
}

message NewTaskResponse {
}

message GetMailListRequest {
    required int64 TaskId = 1;
}

message GetMailListResponse {
    required int64 TaskId = 1;
    required int64 AddressId = 2;
    required string Address = 3;
}

message GetMailStatusRequest {
    required int64 TaskId = 1;
    required int64 AddressId = 2;
    required int32 code = 3;
}

message GetMailStatusResponse {
}

service SenderHandler {
    rpc Certify(CertifyRequest) returns (CertifyResponse);
    rpc NewTask(NewTaskRequest) returns (NewTaskResponse);
    rpc GetMailList(GetMailListRequest) returns (GetMailListResponse);
    rpc GetMailStatus(GetMailStatusRequest) returns (GetMailStatusResponse);
}